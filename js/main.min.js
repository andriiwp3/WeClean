document.addEventListener("DOMContentLoaded",(()=>{!function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),function(){let e=[],t=document.querySelectorAll("[data-da]"),n=[],o=[];if(t.length>0){let l=0;for(let o=0;o<t.length;o++){const c=t[o],a=c.getAttribute("data-da");if(""!=a){const t=a.split(","),o=t[1]?t[1].trim():"last",s=t[2]?t[2].trim():"767",d="min"===t[3]?t[3].trim():"max",u=document.querySelector("."+t[0].trim());t.length>0&&u&&(c.setAttribute("data-da-index",l),e[l]={parent:c.parentNode,index:(i=c,r=void 0,r=Array.prototype.slice.call(i.parentNode.children),r.indexOf(i))},n[l]={element:c,destination:document.querySelector("."+t[0].trim()),place:o,breakpoint:s,type:d},l++)}}(c=n).sort((function(e,t){return e.breakpoint>t.breakpoint?-1:1})),c.sort((function(e,t){return e.place>t.place?1:-1}));for(let e=0;e<n.length;e++){const t=n[e],c=t.breakpoint,i=t.type;o.push(window.matchMedia("("+i+"-width: "+c+"px)")),o[e].addListener(a)}}var c,i,r;function a(e){for(let e=0;e<n.length;e++){const t=n[e],c=t.element,i=t.destination,r=t.place,a="_dynamic_adapt_"+t.breakpoint;if(o[e].matches){if(!c.classList.contains(a)){let e=s(i)[r];"first"===r?e=s(i)[0]:"last"===r&&(e=s(i)[s(i).length]),i.insertBefore(c,i.children[e]),c.classList.add(a)}}else c.classList.contains(a)&&(l(c),c.classList.remove(a))}}function l(t){const n=t.getAttribute("data-da-index"),o=e[n],c=o.parent,i=o.index,r=s(c,!0)[i];c.insertBefore(t,c.children[r])}function s(e,t){const n=e.children,o=[];for(let e=0;e<n.length;e++){const c=n[e];(t||null==c.getAttribute("data-da"))&&o.push(e)}return o}a()}(),$(".goto").click((function(){var e=$(this).attr("href").replace("#","");return $("body,html").animate({scrollTop:$("."+e).offset().top+0-$("header").height()},700,(function(){})),$(".menu__body").hasClass("active")&&($(".menu__body,.icon-menu").removeClass("active"),$("body").removeClass("lock")),!1}));let e=document.querySelector(".icon-menu"),t=document.querySelector("body"),n=document.querySelector(".menu__body");e&&e.addEventListener("click",(function(){e.classList.toggle("active"),t.classList.toggle("lock"),n.classList.toggle("active")})),document.querySelectorAll(".item-constructor").forEach((function(e){e.addEventListener("click",(function(t){e.classList.toggle("active");let n=e.closest(".constructor").querySelector(".constructor__sum"),o=parseFloat(n.textContent),c=e.classList.contains("active")?o+ +e.dataset.price:o-+e.dataset.price;n.textContent=c+" рублей "}))})),document.querySelectorAll("input[type=range]").forEach((function(e){e.addEventListener("input",(function(t){document.querySelector(`.${e.id}Value`)?document.querySelector(`.${e.id}Value`).textContent=e.value:console.log("lol")}))}))}));